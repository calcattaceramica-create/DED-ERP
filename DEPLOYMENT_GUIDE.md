# ๐ ุฏููู ูุดุฑ ูุธุงู ERP
# ERP System Deployment Guide

---

## ๐ **ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ**

### **ุนูู ุฌูุงุฒู ุงููุญูู:**
- โ Git (ุงุฎุชูุงุฑู)
- โ SSH access ุฅูู ุงูุณูุฑูุฑ
- โ `jq` ููุฑุงุกุฉ ูููุงุช JSON
- โ `zip` ูุถุบุท ุงููููุงุช

### **ุนูู ุงูุณูุฑูุฑ:**
- โ Ubuntu 20.04+ ุฃู Debian 11+
- โ Root access ุฃู sudo privileges
- โ ุงุชุตุงู ุจุงูุฅูุชุฑูุช
- โ Domain name (ุงุฎุชูุงุฑู ููู SSL)

---

## ๐ฏ **ุฎุทูุงุช ุงููุดุฑ**

### **1. ุชุญุถูุฑ ุงููููุงุช**

```bash
# ุงูุณุฎ ููู ุงูุจูุฆุฉ ุงููููุฐุฌู
cp .env.production.example .env.production

# ุนุฏูู ุงูุฅุนุฏุงุฏุงุช ุญุณุจ ุจูุฆุชู
nano .env.production
```

**ุงูุฅุนุฏุงุฏุงุช ุงููููุฉ:**
- `SECRET_KEY`: ููุชุงุญ ุณุฑู ููู (32 ุญุฑู ุนูู ุงูุฃูู)
- `DATABASE_URL`: ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL
- `DOMAIN_NAME`: ุงุณู ุงููุทุงู ุงูุฎุงุต ุจู
- `EMAIL_FOR_SSL`: ุจุฑูุฏู ุงูุฅููุชุฑููู ูู Let's Encrypt

---

### **2. ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงููุดุฑ**

ุงูุชุญ ููู `deploy_erp_improved.sh` ูุนุฏูู:

```bash
nano deploy_erp_improved.sh
```

**ุนุฏูู ูุฐู ุงูููู ูู ููู `deploy_config.json`:**
```json
{
  "SERVER_HOST": "your-server.com",
  "SERVER_IP": "123.456.789.0",
  "SERVER_USER": "root",
  "NGINX_SERVER_NAME": "your-domain.com",
  "EMAIL_FOR_SSL": "your-email@example.com"
}
```

---

### **3. ุชุดุบูู ุณูุฑูุจุช ุงููุดุฑ**

```bash
# ุงุฌุนู ุงูุณูุฑูุจุช ูุงุจู ููุชูููุฐ
chmod +x deploy_erp_improved.sh

# ุดุบูู ุงูุณูุฑูุจุช
./deploy_erp_improved.sh
```

**ูุงุฐุง ููุนู ุงูุณูุฑูุจุช:**
1. โ ููุดุฆ ููู ุฅุนุฏุงุฏุงุช
2. โ ูุถุบุท ุงููุดุฑูุน
3. โ ูุฑูุน ุงููููุงุช ููุณูุฑูุฑ
4. โ ูุซุจุช ุงููุชุทูุจุงุช (Python, PostgreSQL, Nginx)
5. โ ูุนุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
6. โ ููุดุฆ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
7. โ ูุซุจุช ุงูููุชุจุงุช ูู requirements.txt
8. โ ูุนุฏ ุฎุฏูุฉ systemd
9. โ ูุนุฏ Nginx ูู reverse proxy
10. โ ููุนูู HTTPS ูุน Let's Encrypt
11. โ ูุนุฏ Health Check ุชููุงุฆู
12. โ ูุนุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

---

## ๐ง **ุงูุฃูุงูุฑ ุงููููุฏุฉ ุจุนุฏ ุงููุดุฑ**

### **ุฅุฏุงุฑุฉ ุงูุชุทุจูู:**
```bash
# ุญุงูุฉ ุงูุชุทุจูู
systemctl status erp

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
systemctl restart erp

# ุฅููุงู ุงูุชุทุจูู
systemctl stop erp

# ุจุฏุก ุงูุชุทุจูู
systemctl start erp

# ุนุฑุถ ุงูุณุฌูุงุช
journalctl -u erp -f
```

### **ุฅุฏุงุฑุฉ Nginx:**
```bash
# ุญุงูุฉ Nginx
systemctl status nginx

# ุฅุนุงุฏุฉ ุชุดุบูู Nginx
systemctl restart nginx

# ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช
nginx -t
```

### **ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
# ุงูุฏุฎูู ููุงุนุฏุฉ ุงูุจูุงูุงุช
sudo -u postgres psql erp_db

# ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ
/usr/local/bin/erp_backup.sh

# ุนุฑุถ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
ls -lh /root/erp/backups/
```

---

## ๐ **ูุนูููุงุช ุงููุธุงู**

### **ุงููุณุงุฑุงุช ุงููููุฉ:**
- **ุงููุดุฑูุน:** `/root/erp`
- **ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ:** `/root/erp/venv`
- **ุงูุณุฌูุงุช:** `/root/erp/logs`
- **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:** `/root/erp/backups`
- **ุงููููุงุช ุงููุฑููุนุฉ:** `/root/erp/uploads`

### **ุงูุฎุฏูุงุช:**
- **ุงูุชุทุจูู:** `erp.service`
- **Nginx:** `nginx.service`
- **PostgreSQL:** `postgresql.service`

### **ุงูููุงูุฐ:**
- **Gunicorn:** 8000 (ุฏุงุฎูู)
- **Nginx:** 80 (HTTP) ู 443 (HTTPS)
- **PostgreSQL:** 5432 (ุฏุงุฎูู)

---

## ๐ **ุงูุฃูุงู**

### **ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงููุฏูุฑ:**
1. ุณุฌูู ุฏุฎูู ุจู: `admin` / `admin123`
2. ุงุฐูุจ ุฅูู ุงูุฅุนุฏุงุฏุงุช โ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
3. ุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู!

### **ุชุฃููู PostgreSQL:**
```bash
# ุชุบููุฑ ูููุฉ ูุฑูุฑ postgres
sudo -u postgres psql
\password postgres
```

### **ุฌุฏุงุฑ ุงูุญูุงูุฉ (Firewall):**
```bash
# ุชุซุจูุช UFW
apt install ufw

# ุงูุณูุงุญ ุจู SSH
ufw allow 22/tcp

# ุงูุณูุงุญ ุจู HTTP/HTTPS
ufw allow 80/tcp
ufw allow 443/tcp

# ุชูุนูู ุงูุฌุฏุงุฑ
ufw enable
```

---

## ๐ **ุงูุชุญุฏูุซุงุช**

### **ุชุญุฏูุซ ุงูุชุทุจูู:**
```bash
cd /root/erp
source venv/bin/activate

# ุณุญุจ ุงูุชุญุฏูุซุงุช ูู Git (ุฅุฐุง ููุช ุชุณุชุฎุฏู Git)
git pull origin main

# ุชุญุฏูุซ ุงูููุชุจุงุช
pip install -r requirements.txt --upgrade

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
systemctl restart erp
```

---

## ๐ **ุญู ุงููุดุงูู**

### **ุงูุชุทุจูู ูุง ูุนูู:**
```bash
# ุชุญูู ูู ุงูุณุฌูุงุช
journalctl -u erp -n 50

# ุชุญูู ูู ุญุงูุฉ ุงูุฎุฏูุฉ
systemctl status erp

# ุฃุนุฏ ุชุดุบูู ุงูุฎุฏูุฉ
systemctl restart erp
```

### **ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
# ุชุญูู ูู ุญุงูุฉ PostgreSQL
systemctl status postgresql

# ุชุญูู ูู ุงูุงุชุตุงู
sudo -u postgres psql -c "SELECT version();"
```

### **ูุดููุฉ ูู Nginx:**
```bash
# ุงุฎุชุจุฑ ุงูุฅุนุฏุงุฏุงุช
nginx -t

# ุนุฑุถ ุงูุณุฌูุงุช
tail -f /var/log/nginx/error.log
```

---

## ๐ **ุงูุฏุนู**

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุงูุณุฌูุงุช: `/root/erp/logs/`
2. ุชุญูู ูู `journalctl -u erp`
3. ุชุญูู ูู `/var/log/nginx/error.log`

---

## โ **ูุงุฆูุฉ ุงูุชุญูู ุจุนุฏ ุงููุดุฑ**

- [ ] ุงูุชุทุจูู ูุนูู: `systemctl status erp`
- [ ] Nginx ูุนูู: `systemctl status nginx`
- [ ] HTTPS ููุนูู: ุฒูุงุฑุฉ `https://your-domain.com`
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุนูู
- [ ] ุชู ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงููุฏูุฑ
- [ ] ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู ูุนูู
- [ ] Health Check ูุนูู

---

**๐ ูุจุฑูู! ูุธุงู ERP ุงูุฎุงุต ุจู ุงูุขู ูุนูู ุนูู ุงูุฅูุชุงุฌ!**

