# โ ูุงุฆูุฉ ุงูุชุญูู ูู ุงููุดุฑ
# Deployment Checklist

---

## ๐ **ูุจู ุงููุดุฑ (Pre-Deployment)**

### **1. ุงููููุงุช ุงููุทููุจุฉ:**
- [ ] `wsgi.py` ููุฌูุฏ ููุนูู โ
- [ ] `requirements.txt` ูุญุฏุซ (ูุญุชูู ุนูู `psycopg2-binary`) โ
- [ ] `.env.production.example` ููุฌูุฏ โ
- [ ] `deploy_erp_improved.sh` ููุฌูุฏ โ
- [ ] `DEPLOYMENT_GUIDE.md` ููุฌูุฏ โ

### **2. ุงูุฅุนุฏุงุฏุงุช:**
- [ ] ุนุฏููุช `SERVER_IP` ูู ุงูุณูุฑูุจุช
- [ ] ุนุฏููุช `SERVER_HOST` ูู ุงูุณูุฑูุจุช
- [ ] ุนุฏููุช `NGINX_SERVER_NAME` (ุงุณู ุงููุทุงู)
- [ ] ุนุฏููุช `EMAIL_FOR_SSL` (ุจุฑูุฏู ุงูุฅููุชุฑููู)
- [ ] ูุณุฎุช `.env.production.example` ุฅูู `.env.production`
- [ ] ุนุฏููุช `SECRET_KEY` ูู `.env.production`
- [ ] ุนุฏููุช `DATABASE_URL` ูู `.env.production`

### **3. ุงููุตูู ููุณูุฑูุฑ:**
- [ ] ูุฏูู SSH access ููุณูุฑูุฑ
- [ ] ูุฏูู root ุฃู sudo privileges
- [ ] ุงูุณูุฑูุฑ ูุนูู Ubuntu 20.04+ ุฃู Debian 11+

---

## ๐ **ุฃุซูุงุก ุงููุดุฑ (During Deployment)**

### **1. ุชุดุบูู ุงูุณูุฑูุจุช:**
```bash
chmod +x deploy_erp_improved.sh
./deploy_erp_improved.sh
```

### **2. ูุฑุงูุจุฉ ุงูุชูุฏู:**
- [ ] ุชู ุฅูุดุงุก ููู ุงูุฅุนุฏุงุฏุงุช
- [ ] ุชู ุถุบุท ุงููุดุฑูุน
- [ ] ุชู ุฑูุน ุงููููุงุช ููุณูุฑูุฑ
- [ ] ุชู ุชุญุฏูุซ ุงููุธุงู
- [ ] ุชู ุชุซุจูุช ุงููุชุทูุจุงุช
- [ ] ุชู ุฅุนุฏุงุฏ PostgreSQL
- [ ] ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุชู ูู ุถุบุท ุงููุดุฑูุน
- [ ] ุชู ุฅูุดุงุก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
- [ ] ุชู ุชุซุจูุช ุงูููุชุจุงุช
- [ ] ุชู ุฅูุดุงุก ุฎุฏูุฉ systemd
- [ ] ุชู ุชุดุบูู ุงูุชุทุจูู
- [ ] ุชู ุฅุนุฏุงุฏ Nginx
- [ ] ุชู ุชูุนูู HTTPS
- [ ] ุชู ุฅุนุฏุงุฏ Health Check
- [ ] ุชู ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู

---

## โ **ุจุนุฏ ุงููุดุฑ (Post-Deployment)**

### **1. ุงูุชุญูู ูู ุงูุฎุฏูุงุช:**
```bash
# ุชุญูู ูู ุงูุชุทุจูู
ssh root@YOUR_SERVER_IP "systemctl status erp"

# ุชุญูู ูู Nginx
ssh root@YOUR_SERVER_IP "systemctl status nginx"

# ุชุญูู ูู PostgreSQL
ssh root@YOUR_SERVER_IP "systemctl status postgresql"
```

- [ ] ุฎุฏูุฉ `erp` ุชุนูู (active/running)
- [ ] ุฎุฏูุฉ `nginx` ุชุนูู (active/running)
- [ ] ุฎุฏูุฉ `postgresql` ุชุนูู (active/running)

### **2. ุงูุชุญูู ูู ุงููููุน:**
- [ ] ุงูุชุญ `https://YOUR_DOMAIN` ูู ุงููุชุตูุญ
- [ ] ุงููููุน ููุชุญ ุจุฏูู ุฃุฎุทุงุก
- [ ] ุดูุงุฏุฉ SSL ุตุงูุญุฉ (ููู ุฃุฎุถุฑ)
- [ ] ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุชุธูุฑ

### **3. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู:**
- [ ] ุณุฌูู ุฏุฎูู ุจู: `admin` / `admin123`
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุฌุญ
- [ ] ููุญุฉ ุงูุชุญูู ุชุธูุฑ
- [ ] ุงูููุงุฆู ุชุนูู

### **4. ุงูุฃูุงู:**
- [ ] ุบููุฑุช ูููุฉ ูุฑูุฑ ุงููุฏูุฑ
- [ ] ุบููุฑุช ูููุฉ ูุฑูุฑ postgres
- [ ] ูุนููุช ุฌุฏุงุฑ ุงูุญูุงูุฉ (UFW)

### **5. ุงููุณุฎ ุงูุงุญุชูุงุทู:**
```bash
# ุงุฎุชุจุฑ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุฏูู
ssh root@YOUR_SERVER_IP "/usr/local/bin/erp_backup.sh"

# ุชุญูู ูู ูุฌูุฏ ุงูููู
ssh root@YOUR_SERVER_IP "ls -lh /root/erp/backups/"
```

- [ ] ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุฏูู ูุนูู
- [ ] ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ููุฌูุฏ
- [ ] Cron job ูููุณุฎ ุงูุงุญุชูุงุทู ูุถุงู

### **6. Health Check:**
```bash
# ุชุญูู ูู Health Check
ssh root@YOUR_SERVER_IP "cat /usr/local/bin/erp_health_check.sh"

# ุชุญูู ูู Cron
ssh root@YOUR_SERVER_IP "crontab -l | grep health_check"
```

- [ ] ุณูุฑูุจุช Health Check ููุฌูุฏ
- [ ] Cron job ููู Health Check ูุถุงู

---

## ๐งช **ุงุฎุชุจุงุฑ ุงููุธุงุฆู (Functional Testing)**

### **1. ุงุฎุชุจุงุฑ ุงูุดุฑูุงุช ุงููุชุนุฏุฏุฉ:**
- [ ] ุงูุชุญ ุตูุญุฉ ุงูุชุณุฌูู: `https://YOUR_DOMAIN/auth/register`
- [ ] ุณุฌูู ุดุฑูุฉ ุฌุฏูุฏุฉ
- [ ] ุชู ุฅูุดุงุก ุงูุดุฑูุฉ ุจูุฌุงุญ
- [ ] ุชู ุชุณุฌูู ุงูุฏุฎูู ุชููุงุฆูุงู
- [ ] ุฑูุฒ ุงูุดุฑูุฉ ุธูุฑ (COMP002, COMP003, ...)

### **2. ุงุฎุชุจุงุฑ ุงููุฎุฒูู:**
- [ ] ุฃุถู ููุชุฌ ุฌุฏูุฏ
- [ ] ุฃุถู ูุฎุฒูู
- [ ] ุนุฑุถ ุงููุฎุฒูู

### **3. ุงุฎุชุจุงุฑ ุงููุจูุนุงุช:**
- [ ] ุฃุถู ุนููู
- [ ] ุฃุถู ูุงุชูุฑุฉ ูุจูุนุงุช
- [ ] ุชุญูู ูู ุชุญุฏูุซ ุงููุฎุฒูู
- [ ] ุชุญูู ูู ุชุญุฏูุซ ุฑุตูุฏ ุงูุจูู

### **4. ุงุฎุชุจุงุฑ ุงููุดุชุฑูุงุช:**
- [ ] ุฃุถู ููุฑุฏ
- [ ] ุฃุถู ูุงุชูุฑุฉ ูุดุชุฑูุงุช
- [ ] ุชุญูู ูู ุชุญุฏูุซ ุงููุฎุฒูู
- [ ] ุชุญูู ูู ุชุญุฏูุซ ุฑุตูุฏ ุงูุจูู

### **5. ุงุฎุชุจุงุฑ ุงููุญุงุณุจุฉ:**
- [ ] ุนุฑุถ ุฏููู ุงูุญุณุงุจุงุช
- [ ] ุฃุถู ุญุณุงุจ ุจููู
- [ ] ุฃุถู ููุฏ ูุญุงุณุจู
- [ ] ุนุฑุถ ุงูุชูุงุฑูุฑ ุงููุงููุฉ

---

## ๐ **ูุฑุงูุจุฉ ุงูุฃุฏุงุก (Performance Monitoring)**

### **1. ุงูุณุฌูุงุช:**
```bash
# ุณุฌูุงุช ุงูุชุทุจูู
ssh root@YOUR_SERVER_IP "tail -f /root/erp/logs/erp.log"

# ุณุฌูุงุช systemd
ssh root@YOUR_SERVER_IP "journalctl -u erp -f"

# ุณุฌูุงุช Nginx
ssh root@YOUR_SERVER_IP "tail -f /var/log/nginx/access.log"
ssh root@YOUR_SERVER_IP "tail -f /var/log/nginx/error.log"
```

- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุณุฌูุงุช
- [ ] ุงูุทูุจุงุช ุชูุณุฌู ุจุดูู ุตุญูุญ

### **2. ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ:**
```bash
# ุงุณุชุฎุฏุงู CPU ูุงูุฐุงูุฑุฉ
ssh root@YOUR_SERVER_IP "top -bn1 | head -20"

# ูุณุงุญุฉ ุงููุฑุต
ssh root@YOUR_SERVER_IP "df -h"

# ุญุงูุฉ PostgreSQL
ssh root@YOUR_SERVER_IP "sudo -u postgres psql -c 'SELECT * FROM pg_stat_activity;'"
```

- [ ] ุงุณุชุฎุฏุงู CPU ูุนููู (< 80%)
- [ ] ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ูุนููู (< 80%)
- [ ] ูุณุงุญุฉ ุงููุฑุต ูุงููุฉ (> 20% ูุชุงุญุฉ)

---

## ๐ **ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ (Maintenance)**

### **ููููุงู:**
- [ ] ุชุญูู ูู ุงูุณุฌูุงุช
- [ ] ุชุญูู ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

### **ุฃุณุจูุนูุงู:**
- [ ] ุชุญูู ูู ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
- [ ] ุชุญูู ูู ูุณุงุญุฉ ุงููุฑุต
- [ ] ุฑุงุฌุน ุงูุณุฌูุงุช ููุฃุฎุทุงุก

### **ุดูุฑูุงู:**
- [ ] ุญุฏูุซ ุงููุธุงู: `apt update && apt upgrade`
- [ ] ุญุฏูุซ ุงูููุชุจุงุช: `pip install -r requirements.txt --upgrade`
- [ ] ุฑุงุฌุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุฏููุฉ

---

## ๐ **ูู ุญุงูุฉ ุงูุทูุงุฑุฆ**

### **ุงูุชุทุจูู ูุง ูุนูู:**
```bash
systemctl restart erp
journalctl -u erp -n 100
```

### **ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู:**
```bash
systemctl restart postgresql
sudo -u postgres psql -c "SELECT version();"
```

### **ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ:**
```bash
# ุฅููุงู ุงูุชุทุจูู
systemctl stop erp

# ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
gunzip -c /root/erp/backups/backup_YYYYMMDD_HHMMSS.sql.gz | sudo -u postgres psql erp_db

# ุชุดุบูู ุงูุชุทุจูู
systemctl start erp
```

---

## โ **ุงููุดุฑ ููุชูู!**

ุฅุฐุง ุฃูููุช ุฌููุน ุงูููุงุท ุฃุนูุงูุ ูุฅู ูุธุงู ERP ุงูุฎุงุต ุจู:
- โ ูุนูู ุนูู ุงูุฅูุชุงุฌ
- โ ุขูู ููุญูู
- โ ูุฏูู ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
- โ ูุฏูู ูุฑุงูุจุฉ ุตุญูุฉ ุชููุงุฆูุฉ
- โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

**๐ ูุจุฑูู!**

